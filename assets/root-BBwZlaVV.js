import{F as e,M as t,R as n,a as r,c as i,f as a,l as o,o as s,p as c,w as l,z as u}from"./chunk-JZWAC4HX-DMio0XPM.js";import{t as d}from"./jsx-runtime-xdwC5iDu.js";import{t as f}from"./Svg-Bo1LYJ9e.js";import{t as p}from"./toggleThemeColor-DMVak8BE.js";var m=`/coaching-admin/assets/app-GLu1SsJF.css`,h=`/coaching-admin/assets/Montserrat-VariableFont_wght-DcaoeaBt.ttf`,g=`/coaching-admin/assets/Montserrat-Italic-VariableFont_wght-C-ARXqaC.ttf`,_=d();const v=({children:e})=>(0,_.jsx)(`div`,{className:`layout min-h-screen`,children:(0,_.jsx)(`main`,{className:`container mx-auto px-3.5 pt-4 pb-14 max-w-4xl`,children:e})});var y=[{to:`/`,label:`Главная`,iconName:`home`},{to:`/clients`,label:`Клиенты`,iconName:`profile`},{to:`/new`,label:`Добавить`,iconName:`plus-squared`,isAction:!0},{to:`/reports`,label:`Отчеты`,iconName:`status-up`},{to:`/settings`,label:`Настройки`,iconName:`settings`}];const b=()=>{let e=t();return(0,_.jsx)(`nav`,{className:`bottom-navigation fixed bottom-0 left-0 right-0 bg-surface border-t border-border-light shadow-xl pt-1 px-1 rounded-t`,children:(0,_.jsx)(`div`,{className:`flex justify-around gap-2`,children:y.map(t=>(0,_.jsxs)(i,{to:t.to,className:({isActive:e})=>`h-13.5 flex flex-col items-center justify-center gap-1 px-1 flex-1 rounded-md  ${t.isAction?`bg-accent-primary text-background`:``} ${e&&!t.isAction?`bg-accent-primary/15`:``}`,...t.isAction&&{state:{from:e.pathname}},children:[(0,_.jsx)(f,{name:t.iconName,className:`size-6.5`}),(0,_.jsx)(`span`,{className:`text-tiny`,children:t.label})]},t.to))})})};var x=u();const S=()=>{let e=t();return(0,x.useEffect)(()=>{window.ym?.(106348324,`hit`,e.pathname)},[e]),null},C=({children:e})=>((0,x.useLayoutEffect)(()=>{(()=>{let e=localStorage.getItem(`_preferred_theme`)??`system`;p(e===`dark`||e===`system`&&window.matchMedia(`(prefers-color-scheme: dark)`).matches)})(),(()=>{let e=localStorage.getItem(`_preferred_font_size`)??`1`;document.documentElement.style.fontSize=`${e}rem`})()},[]),(0,_.jsxs)(`html`,{lang:`ru`,children:[(0,_.jsxs)(`head`,{children:[(0,_.jsx)(`meta`,{charSet:`UTF-8`}),(0,_.jsx)(`meta`,{name:`viewport`,content:`width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover`}),(0,_.jsx)(`meta`,{name:`apple-mobile-web-app-capable`,content:`yes`}),(0,_.jsx)(`meta`,{name:`apple-mobile-web-app-status-bar-style`,content:`black-translucent`}),(0,_.jsx)(`meta`,{name:`apple-mobile-web-app-title`,content:`FT Desk`}),(0,_.jsx)(`meta`,{name:`mobile-web-app-capable`,content:`yes`}),(0,_.jsx)(`meta`,{name:`theme-color`,content:`#18181b`}),(0,_.jsx)(`link`,{rel:`manifest`,href:`/manifest.json`}),(0,_.jsx)(`link`,{rel:`apple-touch-icon`,href:`/app-icon-180.png`}),(0,_.jsx)(s,{}),(0,_.jsx)(r,{})]}),(0,_.jsxs)(`body`,{children:[e,(0,_.jsx)(c,{}),(0,_.jsx)(a,{}),(0,_.jsx)(`toast-messages`,{className:`bottom-18 right-2 text-xs`,popover:`manual`,tabIndex:-1,"data-mode":`dark`}),(0,_.jsx)(`script`,{children:`
              (function(m,e,t,r,i,k,a){
                m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
                m[i].l=1*new Date();
                for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
                k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
              })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106348324', 'ym');

              ym(106348324, 'init', {
                defer: true,
                clickmap: true,
                trackLinks: true,
                accurateTrackBounce: true
              });
            `}),(0,_.jsx)(`script`,{children:`
            if ('serviceWorker' in navigator) {
              window.addEventListener('load', () => {
                navigator.serviceWorker.register('/coaching-admin/sw.js')
                  .then((registration) => {
                    console.log('SW registered:', registration)
                  })
                  .catch((error) => {
                    console.log('SW registration failed:', error)
                  })
              })
            }
            `})]})]})),w=()=>{let t=e(),n=`Unknown error`,r=500;return l(t)?(n=t?.data?.message??t.data,r=t.status):t instanceof Error&&(n=t.message),(0,_.jsxs)(`div`,{className:`route-error`,children:[(0,_.jsx)(`h1`,{children:`Oops`}),(0,_.jsx)(`h2`,{children:r}),n&&(0,_.jsx)(`fieldset`,{children:(0,_.jsx)(`pre`,{children:n})})]})};function T(){return[{title:`Fitness Trainer Desk`}]}const E=()=>[{rel:`stylesheet`,href:m},{rel:`icon`,type:`image/svg+xml`,href:`/favicon.svg`},{rel:`preload`,href:h,as:`font`,type:`font/ttf`,crossOrigin:`anonymous`},{rel:`preload`,href:g,as:`font`,type:`font/ttf`,crossOrigin:`anonymous`},{rel:`preload`,href:`/coaching-admin//svg-sprite.svg`,as:`image`,type:`image/svg+xml`,crossOrigin:`anonymous`}],D=()=>({now:Date.now()});var O=n(()=>{let e=t();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(v,{children:(0,_.jsx)(o,{})}),!e.pathname.includes(`/new`)&&!e.pathname.includes(`/edit`)&&(0,_.jsx)(b,{}),(0,_.jsx)(S,{})]})});export{w as ErrorBoundary,C as Layout,D as clientLoader,O as default,E as links,T as meta};