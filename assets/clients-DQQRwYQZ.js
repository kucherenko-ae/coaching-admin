import{a as e,i as t,n,r,t as i}from"./packages-CR-KDM1P.js";var a=`client`,o=e.useTable(t),s=e=>{r.invalidateByPrefix(`${a}:all`),r.invalidateByPrefix(`${a}:allSortedByName`),r.invalidateByPrefix(`${a}:${e}`)};const c={getAll:()=>r.get(`${a}:all`,()=>o.getAll()),getAllSortedByName:()=>r.get(`${a}:allSortedByName`,()=>o.getAllByIndex(`name`)),getById:e=>r.get(`${a}:${e}`,()=>o.get(e)),create:async e=>{let t=await o.put({...e});return s(t.id),t},import:async e=>{await Promise.all(e.map(async e=>await o.put(e))),r.invalidateByPrefix(a)},update:async(e,t)=>{let n=await o.get(e);if(!n)return null;let r=await o.put({...n,...t});return s(r.id),r},delete:async e=>{if(!await o.get(e))return null;await o.delete(e),await i.deleteByClientId(e),await n.deleteByClientId(e),s(e)},clear:async()=>{await o.clear(),r.invalidateByPrefix(a)}};export{c as t};