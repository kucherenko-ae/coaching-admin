import{L as e,N as t,z as n}from"./chunk-JZWAC4HX.B5xnh8v2.js";import{t as r}from"./jsx-runtime.CWlfk1IU.js";import{t as i}from"./Svg.8sPTxAw7.js";import{t as a}from"./Input.DT_H2j8k.js";import{t as o}from"./Select.BOD9nWkC.js";var s=n(),c=r();const l=()=>{let[n]=e(),[r,i]=(0,s.useState)(!0),o=t(),l=n.get(`from`)??``,u=n.get(`to`)??``,d=(e,t)=>{let r=new URLSearchParams(n);if(!e||!t||new Date(e)>new Date(t)){i(!1);return}r.set(`from`,e),r.set(`to`,t),i(!0),o({search:r.toString()},{replace:!0})};return(0,c.jsxs)(`div`,{className:`space-y-2`,children:[(0,c.jsxs)(`div`,{className:`flex gap-2`,children:[(0,c.jsx)(`div`,{className:`flex-1`,children:(0,c.jsx)(a,{type:`date`,name:`from`,value:l,onChange:e=>d(e.target.value,u),"aria-label":`From date`})}),(0,c.jsx)(`div`,{className:`flex-1`,children:(0,c.jsx)(a,{type:`date`,name:`to`,value:u,onChange:e=>d(l,e.target.value),"aria-label":`To date`})})]}),!r&&(0,c.jsx)(`p`,{className:`text-sm text-red-600 mt-1`,children:`Некорректный диапазон дат`})]})},u=({clients:n})=>{let r=t(),[a]=e(),s=a.get(`clientId`);return(0,c.jsxs)(`div`,{className:`flex gap-2`,children:[(0,c.jsxs)(o,{name:`clientId`,value:s??``,onChange:e=>{let t=e.target.value,n=new URLSearchParams(a);n.set(`clientId`,t),r({search:n.toString()},{replace:!0})},wrapperClassName:`flex-1`,children:[(0,c.jsx)(`option`,{value:``,children:`Выберите клиента`}),n.map(e=>(0,c.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),s&&(0,c.jsx)(`button`,{type:`button`,onClick:()=>{let e=new URLSearchParams(a);e.delete(`clientId`),r({search:e.toString()},{replace:!0})},className:`size-9.5 flex items-center justify-center btn-input-reset`,"aria-label":`Сбросить фильтр`,children:(0,c.jsx)(i,{className:`size-4`,name:`close-x`})})]})},d=[{label:`Прошлый месяц`,value:`lastMonth`},{label:`Текущий месяц`,value:`thisMonth`},{label:`Прошлая неделя`,value:`lastWeek`},{label:`Текущая неделя`,value:`thisWeek`},{label:`Вчера`,value:`yesterday`},{label:`Сегодня`,value:`today`},{label:`Свой диапазон`,value:`custom`}];export{u as n,l as r,d as t};