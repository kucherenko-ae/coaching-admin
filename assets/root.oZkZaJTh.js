import{F as e,M as t,R as n,a as r,c as i,f as a,l as o,o as s,p as c,w as l,z as u}from"./chunk-JZWAC4HX.B5xnh8v2.js";import{t as d}from"./jsx-runtime.CWlfk1IU.js";import{t as f}from"./Svg.8sPTxAw7.js";import{t as p}from"./toggleThemeColor.B0EOo6XA.js";var m=`/coaching-admin/assets/app.CuGjFN8I.css`,h=`data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e%20@media%20(prefers-color-scheme:%20dark)%20{%20.favicon-stroke%20{%20stroke:%20%23ffffff;%20}%20}%20@media%20(prefers-color-scheme:%20light)%20{%20.favicon-stroke%20{%20stroke:%20%231f2937;%20}%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='favicon-stroke'%20d='M8.25%2024C5.5%2024%204.25%2022.2%204.25%2020V10C4.25%207.8%205.5%206%208.25%206C11%206%2012.25%207.8%2012.25%2010V20C12.25%2022.2%2011%2024%208.25%2024Z'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20fill='none'/%3e%3cpath%20class='favicon-stroke'%20d='M23.75%2024C26.5%2024%2027.75%2022.2%2027.75%2020V10C27.75%207.8%2026.5%206%2023.75%206C21%206%2019.75%207.8%2019.75%2010V20C19.75%2022.2%2021%2024%2023.75%2024Z'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20fill='none'/%3e%3cpath%20class='favicon-stroke'%20d='M12.25%2016H19.75'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20class='favicon-stroke'%20d='M30%2019V13'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20class='favicon-stroke'%20d='M2%2019V13'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e`,g=`/coaching-admin/assets/Montserrat-VariableFont_wght.DcaoeaBt.ttf`,_=`/coaching-admin/assets/Montserrat-Italic-VariableFont_wght.C-ARXqaC.ttf`,v=d();const y=({children:e})=>(0,v.jsx)(`div`,{className:`layout min-h-screen`,children:(0,v.jsx)(`main`,{className:`container mx-auto px-3.5 pt-4 pb-14 max-w-4xl`,children:e})});var b=[{to:`/`,label:`Главная`,iconName:`home`},{to:`/clients`,label:`Клиенты`,iconName:`profile`},{to:`/new`,label:`Добавить`,iconName:`plus-squared`,isAction:!0},{to:`/reports`,label:`Отчеты`,iconName:`status-up`},{to:`/settings`,label:`Настройки`,iconName:`settings`}];const x=()=>{let e=t();return(0,v.jsx)(`nav`,{className:`bottom-navigation fixed bottom-0 left-0 right-0 bg-surface border-t border-border-light shadow-xl pt-1 px-1 rounded-t`,children:(0,v.jsx)(`div`,{className:`flex justify-around gap-2`,children:b.map(t=>(0,v.jsxs)(i,{to:t.to,className:({isActive:e})=>`h-13.5 flex flex-col items-center justify-center gap-1 px-1 flex-1 rounded-md  ${t.isAction?`bg-accent-primary text-background`:``} ${e&&!t.isAction?`bg-accent-primary/15`:``}`,...t.isAction&&{state:{from:e.pathname}},children:[(0,v.jsx)(f,{name:t.iconName,className:`size-6.5`}),(0,v.jsx)(`span`,{className:`text-tiny`,children:t.label})]},t.to))})})};var S=u();const C=()=>{let e=t();return(0,S.useEffect)(()=>{window.ym?.(106348324,`hit`,e.pathname)},[e]),null},w=({children:e})=>((0,S.useLayoutEffect)(()=>{(()=>{let e=localStorage.getItem(`_preferred_theme`)??`system`;p(e===`dark`||e===`system`&&window.matchMedia(`(prefers-color-scheme: dark)`).matches)})(),(()=>{let e=localStorage.getItem(`_preferred_font_size`)??`1`;document.documentElement.style.fontSize=`${e}rem`})()},[]),(0,v.jsxs)(`html`,{lang:`ru`,children:[(0,v.jsxs)(`head`,{children:[(0,v.jsx)(`meta`,{charSet:`UTF-8`}),(0,v.jsx)(`meta`,{name:`viewport`,content:`width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover`}),(0,v.jsx)(`meta`,{name:`apple-mobile-web-app-capable`,content:`yes`}),(0,v.jsx)(`meta`,{name:`apple-mobile-web-app-status-bar-style`,content:`black-translucent`}),(0,v.jsx)(`meta`,{name:`apple-mobile-web-app-title`,content:`FT Desk`}),(0,v.jsx)(`meta`,{name:`mobile-web-app-capable`,content:`yes`}),(0,v.jsx)(`meta`,{name:`theme-color`,content:`#18181b`}),(0,v.jsx)(`link`,{rel:`manifest`,href:`/manifest.json`}),(0,v.jsx)(`link`,{rel:`apple-touch-icon`,href:`/app-icon-180.png`}),(0,v.jsx)(s,{}),(0,v.jsx)(r,{})]}),(0,v.jsxs)(`body`,{children:[e,(0,v.jsx)(c,{}),(0,v.jsx)(a,{}),(0,v.jsx)(`toast-messages`,{className:`bottom-18 right-2 text-xs`,popover:`manual`,tabIndex:-1,"data-mode":`dark`}),(0,v.jsx)(`script`,{children:`
              (function(m,e,t,r,i,k,a){
                m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
                m[i].l=1*new Date();
                for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
                k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
              })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106348324', 'ym');

              ym(106348324, 'init', {
                defer: true,
                clickmap: true,
                trackLinks: true,
                accurateTrackBounce: true
              });
            `}),(0,v.jsx)(`script`,{children:`
            if ('serviceWorker' in navigator) {
              window.addEventListener('load', () => {
                navigator.serviceWorker.register('/coaching-admin/sw.js')
                  .then((registration) => {
                    console.log('SW registered:', registration)
                  })
                  .catch((error) => {
                    console.log('SW registration failed:', error)
                  })
              })
            }
            `})]})]})),T=()=>{let t=e(),n=`Unknown error`,r=500;return l(t)?(n=t?.data?.message??t.data,r=t.status):t instanceof Error&&(n=t.message),(0,v.jsxs)(`div`,{className:`route-error`,children:[(0,v.jsx)(`h1`,{children:`Oops`}),(0,v.jsx)(`h2`,{children:r}),n&&(0,v.jsx)(`fieldset`,{children:(0,v.jsx)(`pre`,{children:n})})]})};function E(){return[{title:`Fitness Trainer Desk`}]}const D=()=>[{rel:`stylesheet`,href:m},{rel:`icon`,type:`image/svg+xml`,href:h},{rel:`preload`,href:g,as:`font`,type:`font/ttf`,crossOrigin:`anonymous`},{rel:`preload`,href:_,as:`font`,type:`font/ttf`,crossOrigin:`anonymous`},{rel:`preload`,href:`/coaching-admin/svg-sprite.svg`,as:`image`,type:`image/svg+xml`,crossOrigin:`anonymous`}],O=()=>({now:Date.now()});var k=n(()=>{let e=t();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{children:(0,v.jsx)(o,{})}),!e.pathname.includes(`/new`)&&!e.pathname.includes(`/edit`)&&(0,v.jsx)(x,{}),(0,v.jsx)(C,{})]})});export{T as ErrorBoundary,w as Layout,O as clientLoader,k as default,D as links,E as meta};